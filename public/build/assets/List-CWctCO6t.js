import{D as M}from"./DatePicker-DDZLYX7t.js";import{_ as w,u as y,r as l,o as u,c as k,w as t,a as e,e as v,F as B,f as L,g as F,b as o,t as f,h as P}from"./app-DPBEIOZQ.js";import{S as U,N as Q}from"./Skeleton-DCwjJrKv.js";import{u as V}from"./Article-B-EEjaSH.js";import{A as j}from"./Article-B-oJtdAo.js";const z={components:{Article:j,Skeleton:U,NoItemInList:Q},computed:{dashboard:function(){return y()},article:function(){return V()}}},E={key:1};function H(n,r,A,x,C,a){const p=l("Article"),m=l("v-col"),d=l("NoItemInList"),i=l("Skeleton"),_=l("v-row"),h=l("v-card-text"),c=l("v-card");return u(),k(c,null,{default:t(()=>[e(h,null,{default:t(()=>[e(_,{align:"center",justify:"center",dense:""},{default:t(()=>[a.dashboard.is_fetch?(u(),v("div",E,[e(m,null,{default:t(()=>[e(i,{n:3,type:"list-item-avatar-two-line , list-item-two-line ,table-tfoot"})]),_:1})])):(u(),v(B,{key:0},[a.article.articles.length>0?(u(!0),v(B,{key:0},L(a.article.articles,b=>(u(),k(m,{cols:"12",md:"6",key:b.id},{default:t(()=>[e(p,{article:b},null,8,["article"])]),_:2},1024))),128)):(u(),k(m,{key:1,cols:"12",md:"6",class:"text-center"},{default:t(()=>[e(d)]),_:1}))],64))]),_:1})]),_:1})]),_:1})}const O=w(z,[["render",H]]),T={components:{DatePicker:M,Articles:O},data:function(){return{loading:!1,snackbar_bill:!1,toggle_bills:!1,bill:null}},computed:{dashboard:function(){return y()},article:function(){return V()},auth:function(){return F()}},methods:{makeBill:async function(){this.loading=!0,await this.article.makeBill().then(n=>{this.loading=!1,n===!0?this.$router.push({name:"bills.list"}):(this.snackbar_bill=!0,this.bill=n)})},viewBill:function(){this.$router.push({name:"bills.view",params:{id:this.bill.id}})},toggleBills:function(){this.article.toggleBills(this.toggle_bills)}},mounted:function(){this.dashboard.getData()},watch:{"dashboard.date_start":function(){this.dashboard.getData()},"dashboard.date_end":function(){this.dashboard.getData()}}},q={class:"text-blue"};function G(n,r,A,x,C,a){const p=l("v-img"),m=l("v-avatar"),d=l("v-row"),i=l("v-chip"),_=l("v-icon"),h=l("v-chip-group"),c=l("v-col"),b=l("DatePicker"),D=l("v-checkbox"),g=l("v-btn"),N=l("Articles"),S=l("v-divider"),I=l("v-snackbar");return u(),v(B,null,[e(d,null,{default:t(()=>[e(m,{size:"150",class:"mx-auto",rounded:"0"},{default:t(()=>[e(p,{alt:"dashboards",src:"/storage/articles_list.gif"})]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(c,null,{default:t(()=>[e(b,{StateModel:a.dashboard},{add:t(()=>[e(c,null,{default:t(()=>[e(h,{"center-active":"",modelValue:a.article.article_filter,"onUpdate:modelValue":[r[0]||(r[0]=s=>a.article.article_filter=s),a.article.resetBillPlanning],filter:"",multiple:""},{default:t(()=>[e(i,{value:"0",color:"red"},{default:t(()=>[o("My Article")]),_:1}),e(i,{value:"1",color:"green"},{default:t(()=>[o("Other Articles")]),_:1}),e(i,{value:"2",color:"blue"},{default:t(()=>[o("Bills")]),_:1}),e(i,{value:"3",color:"purple-lighten-2"},{default:t(()=>[e(_,null,{default:t(()=>[o(f(a.article.article_filter.find(s=>s=="3")?"mdi-eye":"mdi-eye-off"),1)]),_:1})]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["StateModel"])]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(c,{class:"text-center pt-0"},{default:t(()=>[e(D,{"hide-details":"",onClick:a.toggleBills,modelValue:n.toggle_bills,"onUpdate:modelValue":r[1]||(r[1]=s=>n.toggle_bills=s),color:"primary"},null,8,["onClick","modelValue"])]),_:1}),e(c,{class:"text-center"},{default:t(()=>[e(i,{color:"blue",variant:"tonal"},{default:t(()=>[e(_,{class:"mr-2"},{default:t(()=>[o(" mdi-cash-refund ")]),_:1}),o(" "+f(n.formatFloatNumber(a.article.total_articles))+" MAD ",1)]),_:1})]),_:1}),e(c,{class:"text-center"},{default:t(()=>[e(i,{disabled:a.article.total_articles_selected==0,color:"amber",variant:"tonal"},{default:t(()=>[e(_,{class:"mr-2"},{default:t(()=>[o(" mdi-cash ")]),_:1}),o(" "+f(n.formatFloatNumber(a.article.total_articles_selected))+" MAD ",1)]),_:1},8,["disabled"])]),_:1})]),_:1}),e(d,null,{default:t(()=>[e(c,{class:"text-center"},{default:t(()=>[e(g,{loading:n.loading,disabled:a.article.getBillQueue.length==0,rounded:"",onClick:a.makeBill,color:"blue"},{default:t(()=>[e(_,null,{default:t(()=>[o("mdi-text-box-plus")]),_:1}),o(" "+f(a.article.getBillQueue.length)+" Make Bill ",1)]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1}),e(d,{class:"center_empty"},{default:t(()=>[e(N)]),_:1}),e(I,{modelValue:n.snackbar_bill,"onUpdate:modelValue":r[3]||(r[3]=s=>n.snackbar_bill=s),color:"white"},{actions:t(()=>[e(g,{rounded:"",color:"blue",variant:"tonal",class:"mr-2",onClick:a.viewBill},{default:t(()=>[o(" View ")]),_:1},8,["onClick"]),e(S,{vertical:""}),e(g,{color:"pink",variant:"text",onClick:r[2]||(r[2]=s=>n.snackbar_bill=!1)},{default:t(()=>[o(" Close ")]),_:1})]),default:t(()=>[o(" Bill NÂ° : "),P("strong",q,f(n.bill.id),1),o(" Has Been Created ")]),_:1},8,["modelValue"])],64)}const Y=w(T,[["render",G]]);export{Y as default};
