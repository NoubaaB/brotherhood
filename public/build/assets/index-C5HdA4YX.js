import{D as B}from"./DatePicker-D44stlBV.js";import{_ as A,u as C,r as a,o as _,c as u,w as t,a as e,b as c,t as f,d as $,e as Y,f as k,F as w,g as S,h as z}from"./app-DzWa19Ku.js";import{B as U}from"./Bill-BfIvWqx2.js";const P={computed:{dashboard:function(){return C()},option:function(){var o,p,v,b,g,n,i,d,s,l;return{chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1,borderRadiusApplication:"end",borderRadiusWhenStacked:"last",dataLabels:{total:{enabled:!0,style:{fontSize:"13px",fontWeight:600}}}}},xaxis:{show:!0,type:"datetime",categories:this.dashboard.dates_format},yaxis:{labels:{formatter:function(r){return r.toFixed(2)}}},legend:{position:"right",offsetY:40},fill:{opacity:1},annotations:{yaxis:[{y:(p=(o=this.dashboard)==null?void 0:o.capital)==null?void 0:p.amount,borderColor:"#FF0000",label:{borderColor:"#FF0000",style:{color:"#fff",background:"#FF0000"},text:`Capital : ${(b=(v=this.dashboard)==null?void 0:v.capital)==null?void 0:b.amount} DH`}}],xaxis:[{x:(n=(g=this.dashboard)==null?void 0:g.capital)==null?void 0:n.date_start,x2:(d=(i=this.dashboard)==null?void 0:i.capital)==null?void 0:d.date_end,borderColor:"#FF0000",fillColor:"#FF0000",opacity:.1,label:{borderColor:"#FF0000",style:{fontSize:"10px",color:"#fff",background:"#FF0000"},orientation:"horizontal",text:`Capital : ${(l=(s=this.dashboard)==null?void 0:s.capital)==null?void 0:l.amount} DH`}}]}}},series:function(){return[{name:"Total Spent (MAD)",data:this.dashboard.amount_you_spent},{name:"Amount You Spent In Private",data:this.dashboard.amounts_private}]}}};function T(o,p,v,b,g,n){const i=a("v-img"),d=a("v-avatar"),s=a("v-icon"),l=a("v-chip"),r=a("v-col"),m=a("v-row"),x=a("v-card-item"),y=a("apexchart"),D=a("v-card-text"),F=a("v-card");return _(),u(r,{cols:"12",sm:"6"},{default:t(()=>[e(F,{class:"mx-auto",title:"Your Daily Charges",subtitle:"Your privates and Publics Daily Charge"},{prepend:t(()=>[e(d,{rounded:"0"},{default:t(()=>[e(i,{alt:"charges-timeline",src:"/storage/charge_yourself.gif"})]),_:1})]),append:t(()=>[]),default:t(()=>[e(x,{class:"px-5 text-center"},{default:t(()=>[e(m,null,{default:t(()=>[e(r,null,{default:t(()=>[e(l,{color:"blue",variant:"tonal"},{default:t(()=>[e(s,{class:"mr-2"},{default:t(()=>[c(" mdi-cash-fast ")]),_:1}),c(" "+f(o.formatFloatNumber(n.dashboard.total_amount_you_spent))+" MAD ",1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(l,{color:"green",variant:"tonal"},{default:t(()=>[e(s,{class:"mr-2"},{default:t(()=>[c(" mdi-cash-fast ")]),_:1}),c(" "+f(o.formatFloatNumber(n.dashboard.total_amount_private))+" MAD ",1)]),_:1})]),_:1})]),_:1}),e(m,null,{default:t(()=>[e(r,null,{default:t(()=>[e(l,{color:"indigo",variant:"tonal"},{default:t(()=>[e(s,{class:"mr-2"},{default:t(()=>[c(" mdi-cash-fast ")]),_:1}),c(" "+f(o.formatFloatNumber(n.dashboard.total_all))+" MAD ",1)]),_:1})]),_:1})]),_:1})]),_:1}),e(D,{class:"pa-0"},{default:t(()=>[e(y,{options:n.option,series:n.series},null,8,["options","series"])]),_:1})]),_:1})]),_:1})}const L=A(P,[["render",T]]),H={computed:{dashboard:function(){return C()},user:function(){return $()},option:function(){return{chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1,borderRadiusApplication:"end",borderRadiusWhenStacked:"last",dataLabels:{total:{enabled:!0,style:{fontSize:"13px",fontWeight:600}}}}},xaxis:{show:!0,type:"datetime",categories:this.dashboard.dates_format},yaxis:{labels:{formatter:function(o){return o.toFixed(2)}}},legend:{position:"right",offsetY:40},fill:{opacity:1}}},series:function(){let o=[];return this.user.users_activated.forEach(p=>{o.push({name:`${p.name} Share`,data:this.dashboard.get_amounts(p.id)})}),o}}};function O(o,p,v,b,g,n){const i=a("v-img"),d=a("v-avatar"),s=a("v-icon"),l=a("v-chip"),r=a("v-col"),m=a("v-row"),x=a("v-card-item"),y=a("apexchart"),D=a("v-card-text"),F=a("v-card");return _(),u(r,{cols:"12",sm:"6"},{default:t(()=>[e(F,{class:"mx-auto",title:"Community Charges",subtitle:"Total Charge That Community Spent Daily"},{prepend:t(()=>[e(d,{rounded:"0"},{default:t(()=>[e(i,{alt:"charges-timeline",src:"/storage/charge_brotherhood.gif"})]),_:1})]),append:t(()=>[]),default:t(()=>[e(x,{class:"px-5 text-center"},{default:t(()=>[e(m,null,{default:t(()=>[e(r,null,{default:t(()=>[e(l,{color:"blue",variant:"tonal"},{default:t(()=>[e(s,{class:"mr-2"},{default:t(()=>[c(" mdi-cash-refund ")]),_:1}),c(" "+f(o.formatFloatNumber(n.dashboard.total_amount_you_spent))+" MAD ",1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(l,{color:"indigo-lighten-2",variant:"tonal"},{default:t(()=>[e(s,{class:"mr-2"},{default:t(()=>[c(" mdi-cash-sync ")]),_:1}),c(" "+f(o.formatFloatNumber(n.dashboard.total_brotherhood))+" MAD ",1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(l,{color:"purple-lighten-1",variant:"tonal"},{default:t(()=>[e(s,{class:"mr-2"},{default:t(()=>[c(" mdi-cash-multiple ")]),_:1}),c(" "+f(o.formatFloatNumber(n.dashboard.total_global))+" MAD ",1)]),_:1})]),_:1})]),_:1})]),_:1}),e(D,{class:"pa-0"},{default:t(()=>[e(y,{options:n.option,series:n.series},null,8,["options","series"])]),_:1})]),_:1})]),_:1})}const R=A(H,[["render",O]]),W={computed:{dashboard:function(){return C()},option:function(){return{chart:{type:"bar",height:350,toolbar:{show:!0},zoom:{enabled:!0}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],xaxis:{show:!0,type:"datetime",categories:this.dashboard.dates_format},yaxis:{labels:{formatter:function(o){return o.toFixed(2)}}},legend:{position:"right",offsetY:40},fill:{opacity:1}}},series:function(){return[{name:"Amount Bills",data:this.dashboard.amount_bills},{name:"Amount Articles",data:this.dashboard.amount_articles}]}}};function G(o,p,v,b,g,n){const i=a("v-img"),d=a("v-avatar"),s=a("v-icon"),l=a("v-chip"),r=a("v-col"),m=a("v-row"),x=a("v-card-item"),y=a("apexchart"),D=a("v-card-text"),F=a("v-card");return _(),u(r,{cols:"12",sm:"6"},{default:t(()=>[e(F,{class:"mx-auto",title:"Compare Bills & Articles",subtitle:"Killing Bills"},{prepend:t(()=>[e(d,{rounded:"0"},{default:t(()=>[e(i,{alt:"bills-articles",src:"/storage/invoice.gif"})]),_:1})]),append:t(()=>[]),default:t(()=>[e(x,{class:"px-5 text-center"},{default:t(()=>[e(m,null,{default:t(()=>[e(r,null,{default:t(()=>[e(l,{color:"blue",variant:"tonal"},{default:t(()=>[e(s,{class:"mr-2"},{default:t(()=>[c(" mdi-cash-fast ")]),_:1}),c(" "+f(o.formatFloatNumber(n.dashboard.total_bills))+" MAD ",1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(l,{color:"green",variant:"tonal"},{default:t(()=>[e(s,{class:"mr-2"},{default:t(()=>[c(" mdi-cash-refund ")]),_:1}),c(" "+f(o.formatFloatNumber(n.dashboard.total_articles))+" MAD ",1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(l,{color:n.dashboard.total_compare>=0?"red-lighten-1":"cyan-lighten-2",variant:"tonal"},{default:t(()=>[n.dashboard.total_compare<=0?(_(),u(s,{key:0,class:"mr-2"},{default:t(()=>[c(" mdi-gauge-empty ")]),_:1})):(_(),u(s,{key:1,class:"mr-2"},{default:t(()=>[c(" mdi-gauge ")]),_:1})),c(" "+f(o.formatFloatNumber(n.dashboard.total_compare))+" MAD ",1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),e(D,{class:"pa-0"},{default:t(()=>[e(y,{options:n.option,series:n.series},null,8,["options","series"])]),_:1})]),_:1})]),_:1})}const V=A(W,[["render",G]]),X={computed:{dashboard:function(){return C()},chartOptions:function(){return{chart:{type:"donut",width:"350"},responsive:[{breakpoint:480,options:{legend:{position:"bottom"}}}],labels:this.dashboard.get_grouping_labels.map(o=>o.name)}},series:function(){return this.dashboard.get_grouping_series}}};function E(o,p,v,b,g,n){const i=a("v-img"),d=a("v-avatar"),s=a("apexchart"),l=a("v-card-text"),r=a("v-card"),m=a("v-col");return _(),u(m,{cols:"12",sm:"6"},{default:t(()=>[e(r,{class:"mx-auto",title:"Your Most Used Product",subtitle:"Total Product You used during This Period"},{prepend:t(()=>[e(d,{rounded:"0"},{default:t(()=>[e(i,{alt:"charges-timeline",src:"/storage/pie-chart.gif"})]),_:1})]),default:t(()=>[e(l,{class:"pa-0"},{default:t(()=>[e(s,{options:n.chartOptions,series:n.series},null,8,["options","series"])]),_:1})]),_:1})]),_:1})}const I=A(X,[["render",E]]),K={components:{Bill:U},props:{user_id:Number},data:function(){return{bills:[]}},computed:{dashbaord:function(){return C()}},mounted:function(){Y.get("/api/bills",{params:{user_id:this.user_id}}).then(o=>{this.dashbaord.score_bills=o.data.bills})},methods:{}};function j(o,p,v,b,g,n){const i=a("Bill"),d=a("v-col"),s=a("v-row"),l=a("v-expansion-panel-text");return _(),u(l,{class:"pa-0"},{default:t(()=>[(_(!0),k(w,null,S(n.dashbaord.score_bills,r=>(_(),u(s,{key:r.id},{default:t(()=>[e(d,{cols:"12"},{default:t(()=>[e(i,{bill:r},null,8,["bill"])]),_:2},1024)]),_:2},1024))),128))]),_:1})}const q=A(K,[["render",j]]),J={computed:{dashboard:function(){return C()},user:function(){return $()}},components:{UserScoreDetail:q}},Q=["innerHTML"];function Z(o,p,v,b,g,n){const i=a("v-img"),d=a("v-avatar"),s=a("v-col"),l=a("v-chip"),r=a("v-row"),m=a("v-expansion-panel-title"),x=a("UserScoreDetail"),y=a("v-expansion-panel-text"),D=a("v-expansion-panel"),F=a("v-expansion-panels"),M=a("v-card-text"),N=a("v-card");return _(),u(s,{cols:"12",sm:"6"},{default:t(()=>[e(N,{class:"mx-auto",title:"Users Score",subtitle:"All user Scores"},{prepend:t(()=>[e(d,{rounded:"0"},{default:t(()=>[e(i,{alt:"charges-timeline",src:"/storage/charge_yourself.gif"})]),_:1})]),append:t(()=>[]),default:t(()=>[e(M,{class:"px-0"},{default:t(()=>[e(F,{class:"pa",variant:"popout"},{default:t(()=>[(_(!0),k(w,null,S(n.user.users_activated,h=>(_(),u(D,{key:h.id,"hide-actions":""},{default:t(()=>[e(m,null,{default:t(()=>[e(r,{align:"center",class:"spacer","no-gutters":""},{default:t(()=>[e(s,{cols:"2"},{default:t(()=>[e(d,{size:"36px"},{default:t(()=>[e(i,{alt:`user_${h.id}`,src:h.image},null,8,["alt","src"])]),_:2},1024)]),_:2},1024),e(s,{class:"hidden-xs-only text-left"},{default:t(()=>[z("strong",{innerHTML:h.name},null,8,Q)]),_:2},1024),e(s,{class:"text-no-wrap text-right",cols:"4"},{default:t(()=>[h.score>0?(_(),u(l,{key:0,color:"green-lighten-1",class:"ms-0 me-2",label:"",small:""},{default:t(()=>[c(f(o.formatFloatNumber(h.score))+" MAD ",1)]),_:2},1024)):h.score<0?(_(),u(l,{key:1,color:"red-lighten-1",class:"ms-0 me-2",label:"",small:""},{default:t(()=>[c(f(o.formatFloatNumber(h.score))+" MAD ",1)]),_:2},1024)):(_(),u(l,{key:2,color:"grey-lighten-1",class:"ms-0 me-2",label:"",small:""},{default:t(()=>[c(f(h.score)+" MAD ",1)]),_:2},1024))]),_:2},1024)]),_:2},1024)]),_:2},1024),e(y,{class:"px-0"},{default:t(()=>[e(x,{user_id:h.id},null,8,["user_id"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}const tt=A(J,[["render",Z]]),et={components:{DatePicker:B,YourCharges:L,AllCharges:R,BillsArticlesCharges:V,Grouping:I,UserScore:tt},computed:{dashboard:function(){return C()}},mounted:function(){this.dashboard.getData()},watch:{"dashboard.date_start":function(){this.dashboard.getData()},"dashboard.date_end":function(){this.dashboard.getData()}}};function at(o,p,v,b,g,n){const i=a("v-img"),d=a("v-avatar"),s=a("v-row"),l=a("DatePicker"),r=a("v-col"),m=a("YourCharges"),x=a("AllCharges"),y=a("BillsArticlesCharges"),D=a("Grouping"),F=a("UserScore");return _(),k(w,null,[e(s,null,{default:t(()=>[e(d,{size:"150",class:"mx-auto",rounded:"0"},{default:t(()=>[e(i,{alt:"dashboard",src:"/storage/dashboard.gif"})]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(r,null,{default:t(()=>[e(l,{StateModel:n.dashboard},null,8,["StateModel"])]),_:1})]),_:1}),e(s,null,{default:t(()=>[e(m),e(x),e(y),e(D),e(F)]),_:1})],64)}const rt=A(et,[["render",at]]);export{rt as default};
